import{a as u}from"./vendor-react-C-ttznok.js";import{w as R}from"./vendor-use-sync-external-store-D1xwoNX4.js";function E(t){t()}function N(){let t=null,s=null;return{clear(){t=null,s=null},notify(){E(()=>{let e=t;for(;e;)e.callback(),e=e.next})},get(){const e=[];let r=t;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let r=!0;const n=s={callback:e,next:null,prev:s};return n.prev?n.prev.next=n:t=n,function(){!r||t===null||(r=!1,n.next?n.next.prev=n.prev:s=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}}var g={notify(){},get:()=>[]};function L(t,s){let e,r=g,n=0,i=!1;function a(m){d();const w=r.subscribe(m);let y=!1;return()=>{y||(y=!0,w(),f())}}function l(){r.notify()}function o(){S.onStateChange&&S.onStateChange()}function b(){return i}function d(){n++,e||(e=t.subscribe(o),r=N())}function f(){n--,e&&n===0&&(e(),e=void 0,r.clear(),r=g)}function p(){i||(i=!0,d())}function v(){i&&(i=!1,f())}const S={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:o,isSubscribed:b,trySubscribe:p,tryUnsubscribe:v,getListeners:()=>r};return S}var k=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D=k(),M=()=>typeof navigator<"u"&&navigator.product==="ReactNative",T=M(),U=()=>D||T?u.useLayoutEffect:u.useEffect,V=U(),H=Symbol.for("react-redux-context"),P=typeof globalThis<"u"?globalThis:{};function j(){if(!u.createContext)return{};const t=P[H]??=new Map;let s=t.get(u.createContext);return s||(s=u.createContext(null),t.set(u.createContext,s)),s}var c=j();function I(t){const{children:s,context:e,serverState:r,store:n}=t,i=u.useMemo(()=>{const o=L(n);return{store:n,subscription:o,getServerState:r?()=>r:void 0}},[n,r]),a=u.useMemo(()=>n.getState(),[n]);V(()=>{const{subscription:o}=i;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),a!==n.getState()&&o.notifyNestedSubs(),()=>{o.tryUnsubscribe(),o.onStateChange=void 0}},[i,a]);const l=e||c;return u.createElement(l.Provider,{value:i},s)}var _=I;function x(t=c){return function(){return u.useContext(t)}}var C=x();function h(t=c){const s=t===c?C:x(t),e=()=>{const{store:r}=s();return r};return Object.assign(e,{withTypes:()=>e}),e}var W=h();function q(t=c){const s=t===c?W:h(t),e=()=>s().dispatch;return Object.assign(e,{withTypes:()=>e}),e}var z=q(),A=(t,s)=>t===s;function B(t=c){const s=t===c?C:x(t),e=(r,n={})=>{const{equalityFn:i=A}=typeof n=="function"?{equalityFn:n}:n,a=s(),{store:l,subscription:o,getServerState:b}=a;u.useRef(!0);const d=u.useCallback({[r.name](p){return r(p)}}[r.name],[r]),f=R.useSyncExternalStoreWithSelector(o.addNestedSub,l.getState,b||l.getState,d,i);return u.useDebugValue(f),f};return Object.assign(e,{withTypes:()=>e}),e}var F=B();export{_ as P,F as a,z as u};
