var p=function(){return p=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)};function _(t,e,n){if(n||arguments.length===2)for(var a=0,i=e.length,r;a<i;a++)(r||!(a in e))&&(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))}var T=44032,I=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],s=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],c=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],D={ㄲ:["ㄱ","ㄱ"],ㄳ:["ㄱ","ㅅ"],ㄵ:["ㄴ","ㅈ"],ㄶ:["ㄴ","ㅎ"],ㄺ:["ㄹ","ㄱ"],ㄻ:["ㄹ","ㅁ"],ㄼ:["ㄹ","ㅂ"],ㄽ:["ㄹ","ㅅ"],ㄾ:["ㄹ","ㅌ"],ㄿ:["ㄹ","ㅍ"],ㅀ:["ㄹ","ㅎ"],ㅄ:["ㅂ","ㅅ"],ㅆ:["ㅅ","ㅅ"],ㅘ:["ㅗ","ㅏ"],ㅙ:["ㅗ","ㅐ"],ㅚ:["ㅗ","ㅣ"],ㅝ:["ㅜ","ㅓ"],ㅞ:["ㅜ","ㅔ"],ㅟ:["ㅜ","ㅣ"],ㅢ:["ㅡ","ㅣ"]},$={ㅗ:["ㅗ","ㅚ"],ㅜ:["ㅜ","ㅟ"],ㅡ:["ㅡ","ㅢ"]},X=[["ㄱ","r"],["ㄲ","R"],["ㄴ","s"],["ㄷ","e"],["ㄸ","E"],["ㄹ","f"],["ㅁ","a"],["ㅂ","q"],["ㅃ","Q"],["ㅅ","t"],["ㅆ","T"],["ㅇ","d"],["ㅈ","w"],["ㅉ","W"],["ㅊ","c"],["ㅋ","z"],["ㅌ","x"],["ㅍ","v"],["ㅎ","g"],["ㅏ","k"],["ㅐ","o"],["ㅑ","i"],["ㅒ","O"],["ㅓ","j"],["ㅔ","p"],["ㅕ","u"],["ㅖ","P"],["ㅗ","h"],["ㅛ","y"],["ㅜ","n"],["ㅠ","b"],["ㅡ","m"],["ㅣ","l"]];function ce(t){var e="",n="",a="",i=-1,r=-1,o=-1;if(t.match(/[ㄱ-ㅎ]/))e=t,i=I.join("").search(t);else if(t.match(/[가-힣]/)){var f=t.charCodeAt(0)-T;o=f%c.length,r=(f-o)/c.length%s.length,i=((f-o)/c.length-r)/s.length,e=I[i],n=s[r],a=c[o]}return{initial:e,medial:n,finale:a,initialOffset:i,medialOffset:r,finaleOffset:o}}[["은","는"],["이","가"],["을","를"],["과","와"]].reduce(function(t,e){var n=e[0],a=e[1];return _(_([],t,!0),[[RegExp(`([가-힣]['" ]{0,1})`.concat(n,"\\(").concat(a,"\\)(\\s+)"),"g"),n,a],[RegExp(`([가-힣]['" ]{0,1})`.concat(a,"\\(").concat(n,"\\)(\\s+)"),"g"),n,a]],!1)},[]);var x=Object.entries(D).reduce(function(t,e){var n,a=e[0],i=e[1];return p(p({},t),(n={},n[i.join("")]=a,n))},{}),H=function(t){return typeof t<"u"};function fe(t){var e=t.findIndex(function(u){return s.indexOf(u)!==-1}),n=e!==-1&&s.indexOf(t[e+1])!==-1?e+1:e,a=t.slice(0,e).join(""),i=t.slice(e,n+1).join(""),r=t.slice(n+1).join(""),o=I.indexOf(x[a]||a),f=s.indexOf(x[i]||i),l=c.indexOf(x[r]||r);return o!==-1&&f!==-1?String.fromCharCode(T+o*(s.length*c.length)+f*c.length+l):t.join("")}function se(t){var e=[];(typeof t=="string"?t.split(""):t).forEach(function(r,o,f){typeof r=="string"&&e.length>0&&s.indexOf(f[o-1])!==-1&&s.indexOf(r)!==-1&&x["".concat(f[o-1]).concat(r)]?e[e.length-1]=x["".concat(f[o-1]).concat(r)]:e.push(r)});var n={medial:null,finales:[]},a=[n];e.forEach(function(r){Array.isArray(r)?(n={medial:null,finales:[]},a.push({grouped:r,finales:[]}),a.push(n)):s.indexOf(r)!==-1?(n={medial:r,finales:[]},a.push(n)):n.finales.push(r)}),a.forEach(function(r,o,f){if(o>0){var l=f[o-1];if(!l.medial||l.finales.length===1)r.initials=l.finales,l.finales=[];else{var u=l.finales,m=u[0],E=u.slice(1);r.initials=E,l.finales=m?[m]:[]}if(r.finales.length>2||o===a.length-1&&r.finales.length>1){var O=r.finales,v=O[0],g=O[1],d=O.slice(2);x["".concat(v).concat(g)]&&(r.finales=_([x["".concat(v).concat(g)]],d,!0))}}});var i=[];return a.forEach(function(r){var o=r.initials,f=o===void 0?[]:o,l=r.medial,u=r.finales,m=r.grouped;if(m)i.push(m);else{var E=f.slice(),O=E.pop(),v=u[0],g=u.slice(1);c.indexOf(v)===-1&&(g=_([v],g,!0),v=""),E.filter(H).forEach(function(d){return i.push([d])}),i.push([O,l,v].filter(Boolean)),g.filter(H).forEach(function(d){return i.push([d])})}}),i.map(fe).join("")}var le=Object.values(X).reduce(function(t,e){var n,a=e[0],i=e[1];return p(p({},t),(n={},n[i]=a,n))},{});function ue(t){return se(t.split("").map(function(e){return le[e]||e}).join(""))}var V=/[\\^$.*+?()[\]{}|]/g,ve=RegExp(V.source);function F(t){return t&&ve.test(t)?t.replace(V,"\\$&"):t||""}var N=function(t,e){e===void 0&&(e=!1);var n=I.indexOf(t);if(n!==-1){var a=n*s.length*c.length+T;return"[".concat(e?t:"").concat(String.fromCharCode(a),"-").concat(String.fromCharCode(a+s.length*c.length-1),"]")}return t},J="__".concat(parseInt("fuzzy",36),"__"),Q="__".concat(parseInt("ignorespace",36),"__"),he=(function(){var t,e;return function(n,a){var i=a===void 0?{}:a,r=i.initialSearch,o=r===void 0?!1:r,f=i.startsWith,l=f===void 0?!1:f,u=i.endsWith,m=u===void 0?!1:u,E=i.ignoreSpace,O=E===void 0?!1:E,v=i.ignoreCase,g=v===void 0?!0:v,d=i.global,ee=d===void 0?!1:d,M=i.fuzzy,ne=M===void 0?!1:M,Z=i.nonCaptureGroup,re=Z===void 0?!1:Z,w=i.engToKor,te=w===void 0?!1:w;if(t===n)return e;var B=n,K=[];if(te&&n.trim().match(/^([a-zA-Z0-9\s]{2,})$/)){var U=ue(n.trim());U.match(/^[가-힣ㄱ-ㅎ0-9]/)&&(B=U,K.push(F(n.trim())))}var S=B.split(""),Y=S.slice(-1)[0],b="",C=ce(Y||"");if(C.initialOffset!==-1){S=S.slice(0,-1);var q=C.initial,P=C.medial,j=C.finale,ae=C.initialOffset,L=C.medialOffset,A=ae*s.length*c.length+T,h=[];switch(!0){case j!=="":{h.push(Y),I.includes(j)&&h.push("".concat(String.fromCharCode(A+L*c.length)).concat(N(j))),D[j]&&h.push("".concat(String.fromCharCode(A+L*c.length+c.join("").search(D[j][0])+1)).concat(N(D[j][1])));break}case P!=="":{var z=void 0,W=void 0;$[P]?(z=A+s.join("").search($[P][0])*c.length,W=A+s.join("").search($[P][1])*c.length+c.length-1):(z=A+L*c.length,W=z+c.length-1),h.push("[".concat(String.fromCharCode(z),"-").concat(String.fromCharCode(W),"]"));break}case q!=="":{h.push(N(q,!0));break}}b=h.length>1?re?"(?:".concat(h.join("|"),")"):"(".concat(h.join("|"),")"):h[0]}var k=ne?J:O?Q:"",G=o?S.map(function(R){return R.search(/[ㄱ-ㅎ]/)!==-1?N(R,!0):F(R)}).join(k):F(S.join(k)),ie=G.trim()!==""&&b.trim()!=="",oe=ie?"".concat(G).concat(k).concat(b):"".concat(G).concat(b),y=(l?"^":"")+oe+(m?"$":"");return k&&(y=y.replace(RegExp(J,"g"),".*").replace(RegExp(Q,"g"),"\\s*")),K.length>0&&(y=_(_([],K,!0),[y],!1).map(function(R){return"(".concat(R,")")}).join("|")),e=RegExp(y,(ee?"g":"")+(g?"i":"")),e}})();Object.values(X).reduce(function(t,e){var n,a=e[0],i=e[1];return p(p({},t),(n={},n[a]=i,n))},{});export{he as g};
